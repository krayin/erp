<?php

namespace App\Providers\Filament;

use BezhanSalleh\FilamentShield\FilamentShieldPlugin;
use Filament\Http\Middleware\Authenticate;
use Filament\Http\Middleware\DisableBladeIconComponents;
use Filament\Http\Middleware\DispatchServingFilamentEvent;
use Filament\Panel;
use Filament\PanelProvider;
use Filament\Support\Colors\Color;
use Filament\Support\Enums\MaxWidth;
use Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse;
use Illuminate\Cookie\Middleware\EncryptCookies;
use Illuminate\Foundation\Http\Middleware\VerifyCsrfToken;
use Illuminate\Routing\Middleware\SubstituteBindings;
use Illuminate\Session\Middleware\AuthenticateSession;
use Illuminate\Session\Middleware\StartSession;
use Illuminate\Support\Facades\Validator;
use Illuminate\View\Middleware\ShareErrorsFromSession;
use Webkul\Support\PluginManager;

class AdminPanelProvider extends PanelProvider
{
    public function panel(Panel $panel): Panel
    {
        return $panel
            ->default()
            ->id('admin')
            ->path('admin')
            ->login()
            ->brandLogo("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIyIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjIyIDQ4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPHBhdGggZD0iTTIyMC4xNTYgMTIuMjY3OFYxNy4yNzkySDIwOS41OTZDMjA4LjQ0MyAxNy4yNzkyIDIwNy40NDkgMTcuNDk3OSAyMDYuNjEzIDE3LjkzNTRDMjA1Ljc3OCAxOC4zNzMgMjA1LjM2MSAxOC45ODk0IDIwNS4zNjEgMTkuNzg0OUMyMDUuMzYxIDIwLjI2MjIgMjA1LjQ2IDIwLjY5OTcgMjA1LjY1OSAyMS4wOTc0QzIwNS44NTggMjEuNDU1MyAyMDYuMDc2IDIxLjc1MzYgMjA2LjMxNSAyMS45OTIzQzIwNi41OTMgMjIuMjMwOSAyMDYuOTkxIDIyLjQ4OTQgMjA3LjUwOCAyMi43Njc4QzIwOC4wNjUgMjMuMDA2NSAyMDguNDgzIDIzLjE4NTUgMjA4Ljc2MSAyMy4zMDQ4QzIwOS4wNzkgMjMuMzg0MyAyMTAuMzUyIDIzLjc4MjEgMjEyLjU3OSAyNC40OThDMjE0LjgwNyAyNS4yMTM5IDIxNi40NTcgMjUuODEwNSAyMTcuNTMxIDI2LjI4NzdDMjE4LjYwNSAyNi43NjUgMjE5LjQyIDI3LjQyMTMgMjE5Ljk3NyAyOC4yNTY1QzIyMC41NzQgMjkuMDUxOSAyMjAuOTUxIDI5Ljg0NzQgMjIxLjExMSAzMC42NDI5QzIyMS4yNyAzMS4zOTg1IDIyMS4zNDkgMzIuMTU0MiAyMjEuMzQ5IDMyLjkwOTlDMjIxLjM0OSAzOC4yMzk1IDIxNy42OSA0MC45MDQyIDIxMC4zNzIgNDAuOTA0MkgyMDAuMDUxVjM1Ljg5MjlIMjEwLjM3MkMyMTQuMTExIDM1Ljg5MjkgMjE1Ljk4IDM0Ljg5ODYgMjE1Ljk4IDMyLjkwOTlDMjE1Ljk4IDMxLjk1NTQgMjE1LjQyMyAzMS4xNTk5IDIxNC4zMDkgMzAuNTIzNUMyMTMuMjM2IDI5Ljg4NzIgMjExLjkwMyAyOS4zNTAyIDIxMC4zMTIgMjguOTEyN0MyMDguNzYxIDI4LjQ3NTIgMjA3LjE5IDI3Ljk3ODEgMjA1LjU5OSAyNy40MjEzQzIwNC4wNDggMjYuODI0NyAyMDIuNzE2IDI1Ljg5IDIwMS42MDIgMjQuNjE3M0MyMDAuNTI4IDIzLjMwNDggMTk5Ljk5MSAyMS42OTQgMTk5Ljk5MSAxOS43ODQ5QzE5OS45OTEgMTcuMzU4NyAyMDAuOTI2IDE1LjUwOTMgMjAyLjc5NSAxNC4yMzY2QzIwNC42NjUgMTIuOTI0MSAyMDYuOTMyIDEyLjI2NzggMjA5LjU5NiAxMi4yNjc4SDIyMC4xNTZaIiBmaWxsPSJibGFjayIgLz4KCTxwYXRoIGQ9Ik0xOTQuNTk0IDQwLjkwNDJIMTg0LjI3M0MxNzkuODU4IDQwLjkwNDIgMTc2LjY5NiA0MC4yNDggMTc0Ljc4NyAzOC45MzU1QzE3My4wNzcgMzcuNzgyMSAxNzEuOTgzIDM2LjQwOTkgMTcxLjUwNiAzNC44MTlDMTcxLjA2OCAzMy4xODgzIDE3MC44NSAzMS4wNjA1IDE3MC44NSAyOC40MzU1VjEyLjI2NzhIMTc2LjFWMjguMzc1OEMxNzYuMSAyOS4wOTE3IDE3Ni4xMiAyOS43MDgyIDE3Ni4xNTkgMzAuMjI1MkMxNzYuMTk5IDMwLjcwMjUgMTc2LjMzOCAzMS4zMzg5IDE3Ni41NzcgMzIuMTM0M0MxNzYuODE2IDMyLjg5IDE3Ny4xNTQgMzMuNTI2NCAxNzcuNTkxIDM0LjA0MzRDMTc4LjAyOSAzNC41MjA3IDE3OC42NjUgMzQuOTU4MiAxNzkuNSAzNS4zNTU5QzE4MC4zMzUgMzUuNzEzOSAxODEuMzUgMzUuODkyOSAxODIuNTQzIDM1Ljg5MjlIMTg5LjM0NFYxMi4yNjc4SDE5NC41OTRWNDAuOTA0MloiIGZpbGw9ImJsYWNrIiAvPgoJPHBhdGggZD0iTTE1Ni41MzkgMTEuNjcxM0MxNjMuMyAxMS45NDk3IDE2Ni42ODEgMTQuNzUzNyAxNjYuNjgxIDIwLjA4MzNDMTY2LjY4MSAyNi43MjUzIDE2Mi4zMjYgMzAuMDQ2NCAxNTMuNjE2IDMwLjA0NjRIMTUxLjE2OVYyNS40NTI2SDE1NC4wMzNDMTU2LjY5OCAyNS40NTI2IDE1OC41NDcgMjUuMDU0OSAxNTkuNTgxIDI0LjI1OTRDMTYwLjYxNiAyMy40MjQyIDE2MS4xMzMgMjIuMDUyIDE2MS4xMzMgMjAuMTQyOUMxNjEuMTMzIDE4LjkxIDE2MC42NzUgMTcuOTk1MiAxNTkuNzYgMTcuMzk4NkMxNTguODQ2IDE2Ljc2MjIgMTU3LjY3MiAxNi40NDQxIDE1Ni4yNDEgMTYuNDQ0MUMxNTMuNDE3IDE2LjQ0NDEgMTUxLjE4OSAxNy40Mzg0IDE0OS41NTkgMTkuNDI3QzE0Ny45NjggMjEuNDE1NyAxNDcuMTcyIDIzLjgwMiAxNDcuMTcyIDI2LjU4NjFDMTQ3LjE3MiAyOS41MjkzIDE0OC4wMjcgMzEuOTE1NyAxNDkuNzM4IDMzLjc0NTJDMTUxLjQ4OCAzNS41NzQ4IDE1My43NTUgMzYuNDg5NiAxNTYuNTM5IDM2LjQ4OTZDMTU5LjA0NSAzNi40ODk2IDE2MS4wOTMgMzUuODczMSAxNjIuNjg0IDM0LjY0MDFMMTY2LjI2MyAzOC4xNkMxNjMuNTE5IDQwLjM4NzMgMTYwLjI3NyA0MS41MDA5IDE1Ni41MzkgNDEuNTAwOUMxNTIuMDA1IDQxLjUwMDkgMTQ4LjM4NSA0MC4xNjg2IDE0NS42ODEgMzcuNTAzOEMxNDIuOTc2IDM0LjgzOSAxNDEuNjI0IDMxLjM5ODYgMTQxLjYyNCAyNy4xODI3QzE0MS42MjQgMjIuNDg5NSAxNDIuOTU2IDE4LjY5MTIgMTQ1LjYyMSAxNS43ODc4QzE0OC4yODYgMTIuODg0NCAxNTEuOTI1IDExLjUxMjIgMTU2LjUzOSAxMS42NzEzWiIgZmlsbD0iYmxhY2siIC8+Cgk8cGF0aCBkPSJNMTIyLjc5IDQwLjkwNDJWMjQuNjE3M0MxMjIuNzkgMjAuMDQzNCAxMjMuNjQ1IDE2Ljg4MTUgMTI1LjM1NSAxNS4xMzE1QzEyNi4xOTEgMTQuMjU2NSAxMjcuMjA1IDEzLjYwMDIgMTI4LjM5OCAxMy4xNjI3QzEyOS41OTEgMTIuNzI1MiAxMzAuNjI1IDEyLjQ2NjcgMTMxLjUgMTIuMzg3MUMxMzIuNDE1IDEyLjMwNzYgMTMzLjY0OCAxMi4yNjc4IDEzNS4xOTkgMTIuMjY3OEgxNDAuNDQ5VjE3LjI3OTJIMTM0LjEyNUMxMzMuMzMgMTcuMjc5MiAxMzIuNzEzIDE3LjI5OTEgMTMyLjI3NiAxNy4zMzg5QzEzMS44MzggMTcuMzc4NiAxMzEuMzIxIDE3LjUxNzggMTMwLjcyNSAxNy43NTY1QzEzMC4xMjggMTcuOTk1MSAxMjkuNjExIDE4LjM3MjkgMTI5LjE3NCAxOC44OUMxMjguNDE4IDE5Ljg0NDUgMTI4LjA0IDIxLjc1MzYgMTI4LjA0IDI0LjYxNzNWNDAuOTA0MkgxMjIuNzlaIiBmaWxsPSJibGFjayIgLz4KCTxwYXRoIGQ9Ik0xMTcuOTkgNDAuOTA0MkgxMDcuNjY5QzEwMy4yNTUgNDAuOTA0MiAxMDAuMDkzIDQwLjI0OCA5OC4xODM2IDM4LjkzNTVDOTYuNDczNCAzNy43ODIxIDk1LjM3OTYgMzYuNDA5OSA5NC45MDIzIDM0LjgxOUM5NC40NjQ4IDMzLjE4ODMgOTQuMjQ2MSAzMS4wNjA1IDk0LjI0NjEgMjguNDM1NVYxMi4yNjc4SDk5LjQ5NjFWMjguMzc1OEM5OS40OTYxIDI5LjA5MTcgOTkuNTE2IDI5LjcwODIgOTkuNTU1OCAzMC4yMjUyQzk5LjU5NTUgMzAuNzAyNSA5OS43MzQ3IDMxLjMzODkgOTkuOTczNCAzMi4xMzQzQzEwMC4yMTIgMzIuODkgMTAwLjU1IDMzLjUyNjQgMTAwLjk4OCAzNC4wNDM0QzEwMS40MjUgMzQuNTIwNyAxMDIuMDYxIDM0Ljk1ODIgMTAyLjg5NyAzNS4zNTU5QzEwMy43MzIgMzUuNzEzOSAxMDQuNzQ2IDM1Ljg5MjkgMTA1LjkzOSAzNS44OTI5SDExMi43NFYxMi4yNjc4SDExNy45OVY0MC45MDQyWiIgZmlsbD0iYmxhY2siIC8+Cgk8cGF0aCBkPSJNODEuOTYwNiAyNC4wODAzVjI5LjQ0OTdDODAuNDQ5MyAyOC4yOTYzIDc4LjU5OTggMjcuNzE5NiA3Ni40MTIzIDI3LjcxOTZDNzQuNTQzIDI3LjcxOTYgNzMuMDkxMyAyOC4wOTc0IDcyLjA1NzIgMjguODUzMUM3MS4wMjMxIDI5LjU2OSA3MC41MDYgMzAuNjAzMSA3MC41MDYgMzEuOTU1NEM3MC41MDYgMzQuNTgwNCA3Mi40NTQ5IDM1Ljg5MjkgNzYuMzUyNyAzNS44OTI5SDg0LjIyNzdWMjQuNDk4Qzg0LjIyNzcgMTkuNjg1NSA4MS44ODExIDE3LjI3OTIgNzcuMTg3OSAxNy4yNzkySDY3LjY0MjRWMTIuMjY3OEg3Ny40ODYyQzgxLjM0NDEgMTIuMjY3OCA4NC4zMDcyIDEzLjIyMjQgODYuMzc1NCAxNS4xMzE1Qzg4LjQ0MzYgMTcuMDQwNiA4OS40Nzc3IDE5Ljc4NDkgODkuNDc3NyAyMy4zNjQ0VjQwLjkwNDJINzYuMTczN0M3Mi43OTMgNDAuOTA0MiA3MC4xMDgzIDQwLjE0ODYgNjguMTE5NyAzOC42MzcyQzY2LjEzMSAzNy4xMjU4IDY1LjEzNjcgMzQuOTE4NCA2NS4xMzY3IDMyLjAxNUM2NS4xMzY3IDI5LjExMTYgNjYuMTkwNyAyNi45MDQyIDY4LjI5ODcgMjUuMzkyOUM3MC40MDY2IDIzLjg4MTUgNzMuMDUxNSAyMy4xMjU4IDc2LjIzMzMgMjMuMTI1OEM3OC4wMjMxIDIzLjEyNTggNzkuOTMyMiAyMy40NDQgODEuOTYwNiAyNC4wODAzWiIgZmlsbD0iYmxhY2siIC8+Cgk8cGF0aCBkPSJNNTIuODI1MyA1LjIxNzM5QzUyLjgyNTMgOC4wOTg4OCA1MC40ODk0IDEwLjQzNDggNDcuNjA3OSAxMC40MzQ4QzQ0LjcyNjQgMTAuNDM0OCA0Mi4zOTA1IDguMDk4ODggNDIuMzkwNSA1LjIxNzM5QzQyLjM5MDUgMi4zMzU5IDQ0LjcyNjQgMCA0Ny42MDc5IDBDNTAuNDg5NCAwIDUyLjgyNTMgMi4zMzU5IDUyLjgyNTMgNS4yMTczOVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83Nl85KSIgLz4KCTxwYXRoIGQ9Ik00Mi43OTU4IDQ3Ljk1MjZMNDIuODE5MSA0Ny45NTI3TDQyLjg0MzUgNDcuOTUyN0M1MC41MzQ4IDQ3LjkzNTMgNTUuMzQxMSAzOS42MDk3IDUxLjUwMTUgMzIuOTM4NEwzNS40MzM2IDUuMDIwNDdDMzEuNTgxIC0xLjY3MzQ5IDIxLjkyMjEgLTEuNjczNDkgMTguMDY5NCA1LjAyMDUyTDIuMDAxNTUgMzIuOTM4NEMtMS44MjY2NyAzOS41ODk5IDIuOTM5ODcgNDcuODg2IDEwLjU5MTMgNDcuOTUyM0wxMC42NzQ3IDQ3Ljk1MjlMMTAuNjY4OCA0OEgyMC4zMDY4QzIxLjMzMDUgNDggMjEuNjkzIDQ2LjY0NDIgMjAuODA1OCA0Ni4xMzM0TDE1LjE3NzEgNDIuODkyM0MxMy45MzczIDQyLjE3ODQgMTMuMTczMSA0MC44NTY2IDEzLjE3MzEgMzkuNDI1OVYyOC4xOTE1QzEzLjE3MzEgMjYuNzYwNyAxMy45MzczIDI1LjQzOSAxNS4xNzcxIDI0LjcyNUwyNC45NTEgMTkuMDk3MUMyNi4xODY2IDE4LjM4NTcgMjcuNzA3NCAxOC4zODU3IDI4Ljk0MyAxOS4wOTcxTDM4LjcxNjkgMjQuNzI1QzM5Ljk1NjggMjUuNDM5IDQwLjcyMDkgMjYuNzYwNyA0MC43MjA5IDI4LjE5MTVWMzkuNDI1OUM0MC43MjA5IDQwLjg1NjYgMzkuOTU2OCA0Mi4xNzg0IDM4LjcxNjkgNDIuODkyM0wzMy4wODgyIDQ2LjEzMzRDMzIuMjAxMSA0Ni42NDQyIDMyLjU2MzUgNDggMzMuNTg3MiA0OEg0Mi4zOTA1TDQyLjM4NzMgNDcuOTM2OEM0Mi40ODIyIDQ3Ljk0MjcgNDIuNTY0IDQ3Ljk0NjQgNDIuNjMwMSA0Ny45NDg3QzQyLjcwOTQgNDcuOTUxNiA0Mi43NjYyIDQ3Ljk1MjQgNDIuNzk1OCA0Ny45NTI2WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzc2XzkpIiAvPgoJPHBhdGggZD0iTTI2Ljk0NjIgMzguODE3NUMyOS43MTI1IDM4LjgxNzUgMzEuOTU0OSAzNi41NzUgMzEuOTU0OSAzMy44MDg4QzMxLjk1NDkgMzEuMDQyNSAyOS43MTI1IDI4LjgwMDEgMjYuOTQ2MiAyOC44MDAxQzI0LjE4IDI4LjgwMDEgMjEuOTM3NiAzMS4wNDI1IDIxLjkzNzYgMzMuODA4OEMyMS45Mzc2IDM2LjU3NSAyNC4xOCAzOC44MTc1IDI2Ljk0NjIgMzguODE3NVoiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl83Nl85KSIgLz4KCTxkZWZzPgoJCTxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl83Nl85IiB4MT0iNjcuNTAxIiB5MT0iNDYiIHgyPSIxMy4wMDEiIHkyPSIyMS41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJCTxzdG9wIHN0b3AtY29sb3I9IiNDRjhFQTMiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4yOTUiIHN0b3AtY29sb3I9IiNBMzY1QzgiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4zOTY4MDUiIHN0b3AtY29sb3I9IiM4NjYwRDUiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC43MTU1MzIiIHN0b3AtY29sb3I9IiM0OTU2RjAiIC8+CgkJCTxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzNDQURFOCIgLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhcl83Nl85IiB4MT0iNjcuNTAxIiB5MT0iNDYiIHgyPSIxMy4wMDEiIHkyPSIyMS41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJCTxzdG9wIHN0b3AtY29sb3I9IiNDRjhFQTMiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4yOTUiIHN0b3AtY29sb3I9IiNBMzY1QzgiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4zOTY4MDUiIHN0b3AtY29sb3I9IiM4NjYwRDUiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC43MTU1MzIiIHN0b3AtY29sb3I9IiM0OTU2RjAiIC8+CgkJCTxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzNDQURFOCIgLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJCTxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83Nl85IiB4MT0iNjcuNTAxIiB5MT0iNDYiIHgyPSIxMy4wMDEiIHkyPSIyMS41IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJCTxzdG9wIHN0b3AtY29sb3I9IiNDRjhFQTMiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4yOTUiIHN0b3AtY29sb3I9IiNBMzY1QzgiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC4zOTY4MDUiIHN0b3AtY29sb3I9IiM4NjYwRDUiIC8+CgkJCTxzdG9wIG9mZnNldD0iMC43MTU1MzIiIHN0b3AtY29sb3I9IiM0OTU2RjAiIC8+CgkJCTxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzNDQURFOCIgLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJPC9kZWZzPgo8L3N2Zz4K")
            ->brandLogoHeight('2rem')
            ->passwordReset()
            ->emailVerification()
            ->profile()
            ->colors([
                'primary' => Color::Blue,
            ])
            ->unsavedChangesAlerts()
            ->spa()
            ->sidebarCollapsibleOnDesktop()
            ->maxContentWidth(MaxWidth::Full)
            ->discoverResources(in: app_path('Filament/Resources'), for: 'App\\Filament\\Resources')
            ->discoverPages(in: app_path('Filament/Pages'), for: 'App\\Filament\\Pages')
            ->discoverWidgets(in: app_path('Filament/Widgets'), for: 'App\\Filament\\Widgets')
            ->widgets([])
            ->plugins([
                FilamentShieldPlugin::make()
                    ->gridColumns([
                        'default' => 1,
                        'sm'      => 1,
                        'lg'      => 2,
                        'xl'      => 3,
                    ])
                    ->sectionColumnSpan(1)
                    ->checkboxListColumns([
                        'default' => 1,
                        'sm'      => 1,
                        'lg'      => 2,
                        'xl'      => 3,
                    ])
                    ->resourceCheckboxListColumns([
                        'default' => 1,
                        'sm'      => 2,
                    ]),
                PluginManager::make(),
            ])
            ->middleware([
                EncryptCookies::class,
                AddQueuedCookiesToResponse::class,
                StartSession::class,
                AuthenticateSession::class,
                ShareErrorsFromSession::class,
                VerifyCsrfToken::class,
                SubstituteBindings::class,
                DisableBladeIconComponents::class,
                DispatchServingFilamentEvent::class,
            ])
            ->authMiddleware([
                Authenticate::class,
            ]);
    }
}
